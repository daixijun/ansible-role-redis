---
dist: xenial
sudo: required
language: python
branches:
  only:
    - master
matrix:
  include:
    - python: 2.7
    - python: 3.3
    - python: 3.4
    - python: 3.5
    - python: 3.6
    - python: 3.7

env:
  - MOLECULE_DISTRO: centos7
  - MOLECULE_DISTRO: centos6
  - MOLECULE_DISTRO: ubuntu1804
  - MOLECULE_DISTRO: debian9

services:
  - docker

before_script:
  - cd ../
  - mv ansible-role-redis daixijun.redis
  - cd daixijun.redis

install:
  - pip install molecule docker

script:
  - molecule test
