---
redis_version: 5.0.5
redis_upgrade: false
redis_download_url: https://mirror.azure.cn/redis/releases/redis-{{ redis_version }}.tar.gz
redis_data_dir: /var/lib/redis
redis_log_dir: /var/log/redis
redis_items:
  - port: 6379
    bind: 0.0.0.0
    password: ""
    unixsocket: ""
    timeout: 300
    databases: 16
    loglevel: notice
    logfile: "{{ redis_log_dir }}/6379.log"
    keepalive: 60
    maxclients: 10000
    maxmemory: 500mb
    maxmemory_policy: volatile-lru
    appendonly: "yes"
    appendfilename: appendonly.aof
    appendfsync: everysec
    slaveof: "" # eg: masterip masterport
    master_password: ""
    disabled_commands:
      - keys
      - flushall
redis_sentinel: false
redis_sentinel_port: 26379
redis_sentinel_bind: 0.0.0.0
redis_sentinel_vip: ""
redis_sentinel_dir: /var/lib/redis/sentinel_{{ redis_sentinel_port }}
redis_sentinel_password: ""
redis_sentinel_monitors:
  - name: master
    master: 127.0.0.1
    port: 6379
    password: ""
    quorum: 2
